<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ABtest v1.3 - Complete Specification & Flow Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Malgun Gothic', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .version {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .header .date {
            opacity: 0.8;
            margin-top: 10px;
        }

        .nav {
            background: #f8f9fa;
            padding: 15px 40px;
            border-bottom: 2px solid #e9ecef;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav a {
            color: #667eea;
            text-decoration: none;
            margin-right: 25px;
            font-weight: 600;
            transition: color 0.3s;
        }

        .nav a:hover {
            color: #764ba2;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        .section h4 {
            color: #555;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 8px;
        }

        .badge.v1-1 {
            background: #e3f2fd;
            color: #1976d2;
        }

        .badge.v1-2 {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        .badge.v1-3 {
            background: #e8f5e9;
            color: #388e3c;
        }

        .badge.new {
            background: #fff3e0;
            color: #f57c00;
        }

        .flow-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .flow-step {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 15px 20px;
            margin: 15px 0;
            position: relative;
        }

        .flow-step::after {
            content: 'â†“';
            display: block;
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin-top: 10px;
        }

        .flow-step:last-child::after {
            content: '';
        }

        .flow-step .step-number {
            background: #667eea;
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }

        .flow-step .step-title {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        .code-block .comment {
            color: #75715e;
        }

        .code-block .keyword {
            color: #f92672;
        }

        .code-block .string {
            color: #e6db74;
        }

        .code-block .function {
            color: #66d9ef;
        }

        .table-responsive {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #e9ecef;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #1976d2;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #f57c00;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #388e3c;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .card h4 {
            color: #667eea;
            margin-top: 0;
        }

        .timeline {
            position: relative;
            padding-left: 40px;
            margin: 30px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #667eea;
            border: 3px solid white;
            box-shadow: 0 0 0 2px #667eea;
        }

        .timeline-item h4 {
            margin-top: 0;
        }

        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        .architecture-diagram {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }

        .arch-layer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 6px;
            font-weight: bold;
        }

        .arch-layer.frontend {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .arch-layer.backend {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .arch-layer.data {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .footer {
            background: #2d2d2d;
            color: white;
            padding: 30px 40px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª ABtest v1.3</h1>
            <div class="version">Complete Specification & Flow Documentation</div>
            <div class="date">ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-17</div>
        </div>

        <div class="nav">
            <a href="#overview">ê°œìš”</a>
            <a href="#architecture">ì•„í‚¤í…ì²˜</a>
            <a href="#flow">í”Œë¡œìš°</a>
            <a href="#specs">ê¸°ìˆ  ìŠ¤í™</a>
            <a href="#api">API</a>
            <a href="#dashboard">ëŒ€ì‹œë³´ë“œ</a>
            <a href="#deployment">ë°°í¬</a>
        </div>

        <div class="content">
            <!-- 1. ê°œìš” -->
            <div class="section" id="overview">
                <h2>ğŸ“‹ 1. ì‹œìŠ¤í…œ ê°œìš”</h2>

                <div class="success-box">
                    <strong>ABtest v1.3</strong>ëŠ” í¬ë¡œìŠ¤ í˜ì´ì§€ Variant ì¶”ì  ê¸°ëŠ¥ì„ ê°–ì¶˜ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ A/B í…ŒìŠ¤íŠ¸ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.
                    ì‚¬ìš©ìê°€ ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•˜ë”ë¼ë„ ë™ì¼í•œ Variantë¥¼ ìœ ì§€í•˜ì—¬ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.
                </div>

                <h3>ì£¼ìš” íŠ¹ì§•</h3>
                <div class="grid-2">
                    <div class="card">
                        <h4>ğŸŒ í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì </h4>
                        <p>ì „ì—­ ì¿ í‚¤(ab_global_variant)ë¥¼ í†µí•´ ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ë™ì¼ Variant ìœ ì§€</p>
                    </div>
                    <div class="card">
                        <h4>ğŸ“Š ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„</h4>
                        <p>IP ê¸°ë°˜ ì‚¬ìš©ì ì„¸ì…˜ ì¶”ì  ë° ì‹¤ì‹œê°„ í†µê³„ ê³„ì‚°</p>
                    </div>
                    <div class="card">
                        <h4>ğŸ¯ ì •í™•í•œ í´ë¦­ ì¶”ì </h4>
                        <p>onclick í•¸ë“¤ëŸ¬ ì—†ì´ ì „ì—­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œ ëª¨ë“  í´ë¦­ ì¶”ì </p>
                    </div>
                    <div class="card">
                        <h4>ğŸ–¥ï¸ í†µí•© ëŒ€ì‹œë³´ë“œ</h4>
                        <p>í˜ì´ì§€ ê´€ë¦¬, ì„¤ì •, í†µê³„, ì‚¬ìš©ì ì—¬ì • ë¶„ì„ì„ í•˜ë‚˜ì˜ ëŒ€ì‹œë³´ë“œì—ì„œ</p>
                    </div>
                </div>

                <h3>ë²„ì „ íˆìŠ¤í† ë¦¬</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <h4><span class="badge v1-1">v1.1</span> ê¸°ë³¸ A/B í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ</h4>
                        <ul>
                            <li>í˜ì´ì§€ë³„ Variant í• ë‹¹ (ab_version ì¿ í‚¤)</li>
                            <li>í´ë¦­ ì¶”ì  ë©”ì»¤ë‹ˆì¦˜ (onclick ì œê±° íŒ¨í„´)</li>
                            <li>ê²½ë¡œ ì •ê·œí™” ì‹œìŠ¤í…œ</li>
                            <li>JSON ê¸°ë°˜ ë¡œê·¸ ì €ì¥</li>
                        </ul>
                    </div>
                    <div class="timeline-item">
                        <h4><span class="badge v1-2">v1.2</span> í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì  ì¶”ê°€</h4>
                        <ul>
                            <li>ì „ì—­ ì¿ í‚¤(ab_global_variant) ë„ì…</li>
                            <li>globalVariant í•„ë“œ ì¶”ê°€</li>
                            <li>ì‹¤ì œ ë¡œê·¸ ë°ì´í„° ë¶„ì„ í•¨ìˆ˜</li>
                            <li>ì‚¬ìš©ì ì—¬ì • ì¶”ì </li>
                        </ul>
                    </div>
                    <div class="timeline-item">
                        <h4><span class="badge v1-3">v1.3</span> ë°©ë¬¸ í˜ì´ì§€ ì •ë³´ ë° ë²„ê·¸ ìˆ˜ì •</h4>
                        <ul>
                            <li>ì²«/ë§ˆì§€ë§‰ ë°©ë¬¸ í˜ì´ì§€ ì¶”ì </li>
                            <li>firstVariant ì˜¤ë¥˜ ìˆ˜ì • (ì‹œê°„ìˆœ ì •ë ¬)</li>
                            <li>í˜ì´ì§€ ì´ë¦„ ì¶”ì¶œ ë° íˆ´íŒ í‘œì‹œ</li>
                            <li>ëŒ€ì‹œë³´ë“œ UI ê°œì„ </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 2. ì•„í‚¤í…ì²˜ -->
            <div class="section" id="architecture">
                <h2>ğŸ—ï¸ 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h2>

                <div class="architecture-diagram">
                    <div class="arch-layer frontend">
                        <strong>Frontend Layer</strong><br>
                        HTML Test Pages + ab-test-tracker.js + ab-test-dashboard.html
                    </div>
                    <div style="font-size: 2em; color: #667eea;">â†“</div>
                    <div class="arch-layer backend">
                        <strong>Backend Layer</strong><br>
                        ab-test-config.php + ab-test-log.php + ab-test-analytics.php
                    </div>
                    <div style="font-size: 2em; color: #667eea;">â†“</div>
                    <div class="arch-layer data">
                        <strong>Data Layer</strong><br>
                        ab-test-config.json + clicks_YYYY-MM.json
                    </div>
                </div>

                <h3>íŒŒì¼ êµ¬ì¡°</h3>
                <div class="code-block">
/var/www/html_bak/ob/stella/abtest2/
â”œâ”€â”€ ğŸ“„ ab-test-dashboard.html              (53KB - v1.3 ëŒ€ì‹œë³´ë“œ)
â”œâ”€â”€ ğŸ“„ test-product-1.html                 (í…ŒìŠ¤íŠ¸ í˜ì´ì§€)
â”œâ”€â”€ ğŸ“„ test-product-2.html                 (í…ŒìŠ¤íŠ¸ í˜ì´ì§€)
â”œâ”€â”€ ğŸ“„ test-product-3.html                 (í…ŒìŠ¤íŠ¸ í˜ì´ì§€)
â”œâ”€â”€ ğŸ“„ test-product-4.html                 (í…ŒìŠ¤íŠ¸ í˜ì´ì§€)
â”œâ”€â”€ ğŸ“„ test-product-5.html                 (í…ŒìŠ¤íŠ¸ í˜ì´ì§€)
â”œâ”€â”€ ğŸ“ js/
â”‚   â””â”€â”€ ab-test-tracker.js                 (15KB - v1.2 íŠ¸ë˜ì»¤)
â””â”€â”€ ğŸ“ api/
    â”œâ”€â”€ ab-test-config.php                 (11KB - ì„¤ì • ê´€ë¦¬)
    â”œâ”€â”€ ab-test-log.php                    (15KB - v1.3 ë¡œê·¸ ë¶„ì„)
    â”œâ”€â”€ ab-test-analytics.php              (í†µê³„ ë¶„ì„)
    â”œâ”€â”€ ab-test-config.json                (5.1KB - ì„¤ì • ë°ì´í„°)
    â””â”€â”€ ğŸ“ ab-test-logs/
        â””â”€â”€ clicks_2025-11.json            (46KB - í´ë¦­ ë¡œê·¸)
                </div>

                <h3>ê¸°ìˆ  ìŠ¤íƒ</h3>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>ë ˆì´ì–´</th>
                                <th>ê¸°ìˆ </th>
                                <th>ìš©ë„</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Frontend</strong></td>
                                <td>HTML5, CSS3, Vanilla JavaScript (ES6+)</td>
                                <td>í…ŒìŠ¤íŠ¸ í˜ì´ì§€, ëŒ€ì‹œë³´ë“œ UI</td>
                            </tr>
                            <tr>
                                <td><strong>Backend</strong></td>
                                <td>PHP 7.4+</td>
                                <td>API, ë°ì´í„° ë¶„ì„, ì„¤ì • ê´€ë¦¬</td>
                            </tr>
                            <tr>
                                <td><strong>Data Storage</strong></td>
                                <td>JSON íŒŒì¼</td>
                                <td>ì„¤ì •, ë¡œê·¸ ì €ì¥</td>
                            </tr>
                            <tr>
                                <td><strong>Cookie</strong></td>
                                <td>HTTP Cookie (SameSite=Lax)</td>
                                <td>Variant ì§€ì†ì„± ìœ ì§€</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 3. í”Œë¡œìš° -->
            <div class="section" id="flow">
                <h2>ğŸ”„ 3. ì‹œìŠ¤í…œ í”Œë¡œìš°</h2>

                <h3>3.1 ì‚¬ìš©ì ë°©ë¬¸ í”Œë¡œìš° <span class="badge v1-3">v1.3</span></h3>
                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">1</span>
                            ì‚¬ìš©ìê°€ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë°©ë¬¸
                        </div>
                        <div>ab-test-tracker.js ë¡œë“œ ë° ì´ˆê¸°í™”</div>
                    </div>

                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">2</span>
                            ì„œë²„ ì„¤ì • ë¡œë“œ
                        </div>
                        <div>ab-test-config.php?pagePath=... í˜¸ì¶œ</div>
                        <div class="code-block">
GET /api/ab-test-config.php?pagePath=/ob/stella/abtest2/test-product-1.html
â†’ {enabled: true, mode: "ab_test", testName: "ìƒí’ˆ ë ˆì´ì•„ì›ƒ í…ŒìŠ¤íŠ¸"}
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">3</span>
                            Variant ê²°ì • (3-tier ì²´í¬)
                        </div>
                        <div>
                            <strong>Priority 1:</strong> ì „ì—­ ì¿ í‚¤ í™•ì¸ (ab_global_variant)<br>
                            <strong>Priority 2:</strong> ë¡œì»¬ ì¿ í‚¤ í™•ì¸ (ab_version)<br>
                            <strong>Priority 3:</strong> ì‹ ê·œ í• ë‹¹ (Math.random < 0.5)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">4</span>
                            Variant ì ìš©
                        </div>
                        <div>
                            DOM ì¡°ì‘: data-variant="A" ìš”ì†Œë§Œ display: grid<br>
                            ì¿ í‚¤ ì €ì¥: ab_version + ab_global_variant (30ì¼)
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">5</span>
                            í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¶€ì°©
                        </div>
                        <div>
                            ëª¨ë“  a[id^="dtc-dwcr-"] ìš”ì†Œì— í´ë¦­ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">6</span>
                            ì‚¬ìš©ì í´ë¦­ ë°œìƒ
                        </div>
                        <div>
                            í´ë¦­ ë°ì´í„° ì „ì†¡ (variant + globalVariant + elementId + pagePath + ...)
                        </div>
                        <div class="code-block">
POST /api/ab-test-log.php
{
  "variant": "B",
  "globalVariant": "B",  <span class="comment">// â­ v1.2+</span>
  "elementId": "dtc-dwcr-product-card-buy-a-1",
  "pagePath": "/ob/stella/abtest2/test-product-5.html",
  "timestamp": "2025-11-17T04:10:57.921Z"
}
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="step-title">
                            <span class="step-number">7</span>
                            ë¡œê·¸ ì €ì¥ ë° ë¶„ì„
                        </div>
                        <div>
                            clicks_2025-11.json íŒŒì¼ì— ì €ì¥<br>
                            IP ê¸°ë°˜ ì‚¬ìš©ì ì„¸ì…˜ ë¶„ì„<br>
                            í¬ë¡œìŠ¤ í˜ì´ì§€ í†µê³„ ê³„ì‚°
                        </div>
                    </div>
                </div>

                <h3>3.2 Variant ê²°ì • ë¡œì§ <span class="badge v1-2">v1.2</span></h3>
                <div class="code-block">
<span class="comment">// Step 1: ëª¨ë“œë³„ ê°•ì œ í• ë‹¹ í™•ì¸</span>
<span class="keyword">if</span> (mode === <span class="string">'force_a'</span>) <span class="keyword">return</span> <span class="string">'A'</span>;
<span class="keyword">if</span> (mode === <span class="string">'force_b'</span>) <span class="keyword">return</span> <span class="string">'B'</span>;
<span class="keyword">if</span> (mode === <span class="string">'scheduled'</span> && isScheduleActive()) <span class="keyword">return</span> schedule.variant;

<span class="comment">// Step 2: ab_test ëª¨ë“œ - í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì </span>
<span class="keyword">let</span> globalVariant = cookies.<span class="function">getGlobal</span>();  <span class="comment">// ab_global_variant</span>
<span class="keyword">if</span> (globalVariant) {
    console.log(<span class="string">'ğŸŒ ì „ì—­ ì¿ í‚¤ì—ì„œ Variant ì‚¬ìš©: '</span> + globalVariant);
    cookies.<span class="function">setGlobal</span>(globalVariant, <span class="number">30</span>);  <span class="comment">// ìœ íš¨ê¸°ê°„ ì—°ì¥</span>
    cookies.<span class="function">set</span>(<span class="string">'ab_version'</span>, globalVariant, <span class="number">30</span>);
    <span class="keyword">return</span> globalVariant;
}

<span class="comment">// Step 3: ë¡œì»¬ ì¿ í‚¤ í™•ì¸</span>
<span class="keyword">let</span> localVariant = cookies.<span class="function">get</span>(<span class="string">'ab_version'</span>);
<span class="keyword">if</span> (localVariant) {
    console.log(<span class="string">'ğŸ“– ë¡œì»¬ ì¿ í‚¤ì—ì„œ Variant ì‚¬ìš©: '</span> + localVariant);
    cookies.<span class="function">setGlobal</span>(localVariant, <span class="number">30</span>);  <span class="comment">// ì „ì—­ ì¿ í‚¤ì—ë„ ì €ì¥</span>
    <span class="keyword">return</span> localVariant;
}

<span class="comment">// Step 4: ì‹ ê·œ í• ë‹¹</span>
<span class="keyword">let</span> variant = Math.<span class="function">random</span>() < <span class="number">0.5</span> ? <span class="string">'A'</span> : <span class="string">'B'</span>;
console.log(<span class="string">'ğŸ² ì‹ ê·œ Variant í• ë‹¹: '</span> + variant);
cookies.<span class="function">set</span>(<span class="string">'ab_version'</span>, variant, <span class="number">30</span>);
cookies.<span class="function">setGlobal</span>(variant, <span class="number">30</span>);
<span class="keyword">return</span> variant;
                </div>

                <h3>3.3 í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì  ì‹œë‚˜ë¦¬ì˜¤</h3>
                <div class="info-box">
                    <strong>ì‹œë‚˜ë¦¬ì˜¤:</strong> ì‚¬ìš©ìê°€ test-product-1.html â†’ test-product-3.html â†’ test-product-5.html ìˆœìœ¼ë¡œ ë°©ë¬¸

                    <ol style="margin-top: 15px;">
                        <li><strong>test-product-1.html ë°©ë¬¸</strong>
                            <ul>
                                <li>ì „ì—­ ì¿ í‚¤ ì—†ìŒ â†’ ë¡œì»¬ ì¿ í‚¤ ì—†ìŒ â†’ ì‹ ê·œ í• ë‹¹ (ì˜ˆ: B)</li>
                                <li>ab_version = B, ab_global_variant = B ì €ì¥</li>
                            </ul>
                        </li>
                        <li><strong>test-product-3.html ë°©ë¬¸</strong>
                            <ul>
                                <li>ì „ì—­ ì¿ í‚¤ ìˆìŒ (ab_global_variant = B)</li>
                                <li>B ì‚¬ìš© (ì¼ê´€ì„± ìœ ì§€) âœ…</li>
                            </ul>
                        </li>
                        <li><strong>test-product-5.html ë°©ë¬¸</strong>
                            <ul>
                                <li>ì „ì—­ ì¿ í‚¤ ìˆìŒ (ab_global_variant = B)</li>
                                <li>B ì‚¬ìš© (ì¼ê´€ì„± ìœ ì§€) âœ…</li>
                            </ul>
                        </li>
                    </ol>

                    <strong>ê²°ê³¼:</strong> ëª¨ë“  í˜ì´ì§€ì—ì„œ Variant B ìœ ì§€ â†’ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ ì œê³µ
                </div>
            </div>

            <!-- 4. ê¸°ìˆ  ìŠ¤í™ -->
            <div class="section" id="specs">
                <h2>âš™ï¸ 4. ê¸°ìˆ  ìŠ¤í™</h2>

                <h3>4.1 ì¿ í‚¤ ì „ëµ</h3>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>ì¿ í‚¤ ì´ë¦„</th>
                                <th>ë²”ìœ„</th>
                                <th>ìœ íš¨ê¸°ê°„</th>
                                <th>ìš©ë„</th>
                                <th>ë²„ì „</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>ab_version</code></td>
                                <td>í˜ì´ì§€ë³„</td>
                                <td>30ì¼</td>
                                <td>í˜„ì¬ í˜ì´ì§€ Variant ì €ì¥</td>
                                <td><span class="badge v1-1">v1.1</span></td>
                            </tr>
                            <tr>
                                <td><code>ab_global_variant</code></td>
                                <td>ì „ì—­ (path=/)</td>
                                <td>30ì¼</td>
                                <td>í¬ë¡œìŠ¤ í˜ì´ì§€ Variant ì¶”ì </td>
                                <td><span class="badge v1-2">v1.2</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>4.2 í´ë¦­ ì¶”ì  ID íŒ¨í„´ <span class="badge v1-1">v1.1</span></h3>
                <div class="warning-box">
                    <strong>ì¤‘ìš”:</strong> onclick í•¸ë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ë©´ event.preventDefault()ë¡œ ì¸í•´ í´ë¦­ ì´ë²¤íŠ¸ ì „íŒŒê°€ ì°¨ë‹¨ë©ë‹ˆë‹¤.
                    ë°˜ë“œì‹œ <code>&lt;a href="#"&gt;</code> íƒœê·¸ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.
                </div>

                <div class="code-block">
<span class="comment">/* ID íŒ¨í„´: dtc-dwcr-{category}-{action}-{variant} */</span>

<span class="comment">/* âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ */</span>
&lt;<span class="keyword">a</span> <span class="function">href</span>=<span class="string">"#"</span> <span class="function">id</span>=<span class="string">"dtc-dwcr-product-card-buy-a-1"</span> <span class="function">class</span>=<span class="string">"btn"</span>&gt;
    ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
&lt;/<span class="keyword">a</span>&gt;

<span class="comment">/* âŒ ì˜ëª»ëœ ì˜ˆì‹œ (onclick ì‚¬ìš©) */</span>
&lt;<span class="keyword">button</span> <span class="function">onclick</span>=<span class="string">"buyProduct()"</span>&gt;  <span class="comment">â† í´ë¦­ ì¶”ì  ì‹¤íŒ¨</span>
    ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
&lt;/<span class="keyword">button</span>&gt;

<span class="comment">/* CSSë¡œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ë§ */</span>
<span class="keyword">.btn</span> {
    <span class="function">text-decoration</span>: <span class="string">none</span>;  <span class="comment">â† ë§í¬ ë°‘ì¤„ ì œê±°</span>
    <span class="function">display</span>: <span class="string">inline-block</span>;
    <span class="function">padding</span>: <span class="string">12px 24px</span>;
    <span class="function">background</span>: <span class="string">#667eea</span>;
    <span class="function">color</span>: <span class="string">white</span>;
    <span class="function">border-radius</span>: <span class="string">6px</span>;
}
                </div>

                <h3>4.3 ë¡œê·¸ ë°ì´í„° êµ¬ì¡° <span class="badge v1-3">v1.3</span></h3>
                <div class="code-block">
{
  <span class="string">"id"</span>: <span class="string">"click_691aa0513826a.299981893"</span>,
  <span class="string">"variant"</span>: <span class="string">"B"</span>,                          <span class="comment">// í˜ì´ì§€ë³„ Variant</span>
  <span class="string">"globalVariant"</span>: <span class="string">"B"</span>,                   <span class="comment">// â­ ì „ì—­ Variant (v1.2+)</span>
  <span class="string">"elementId"</span>: <span class="string">"dtc-dwcr-cta-button-top-b"</span>,
  <span class="string">"href"</span>: <span class="string">"https://abi-ops.miraepmp.co.kr/ob/stella/abtest2/test-product-4.html#"</span>,
  <span class="string">"pagePath"</span>: <span class="string">"/ob/stella/abtest2/test-product-4.html"</span>,
  <span class="string">"timestamp"</span>: <span class="string">"2025-11-17T04:10:57.921Z"</span>,
  <span class="string">"userAgent"</span>: <span class="string">"Mozilla/5.0..."</span>,
  <span class="string">"referrer"</span>: <span class="string">""</span>,
  <span class="string">"ipAddress"</span>: <span class="string">"10.0.101.154"</span>,           <span class="comment">// ì‚¬ìš©ì ì‹ë³„</span>
  <span class="string">"serverTimestamp"</span>: <span class="string">"2025-11-17T04:10:57+00:00"</span>
}
                </div>

                <h3>4.4 ê²½ë¡œ ì •ê·œí™” <span class="badge v1-1">v1.1</span></h3>
                <div class="info-box">
                    ì„¤ì • íŒŒì¼ì˜ pagePathì™€ ì‹¤ì œ ìš”ì²­ ê²½ë¡œë¥¼ ì •í™•íˆ ë§¤ì¹­í•˜ê¸° ìœ„í•´ ê²½ë¡œ ì •ê·œí™” ìˆ˜í–‰
                </div>
                <div class="code-block">
<span class="comment">// JavaScript (ab-test-tracker.js)</span>
<span class="function">normalizePath</span>: <span class="keyword">function</span>(path) {
    <span class="keyword">if</span> (!path) <span class="keyword">return</span> <span class="string">''</span>;
    path = path.<span class="function">replace</span>(<span class="string">/\\\//g</span>, <span class="string">'/'</span>);      <span class="comment">// ì—­ìŠ¬ë˜ì‹œ ì œê±°</span>
    path = path.<span class="function">replace</span>(<span class="string">/\/+/g</span>, <span class="string">'/'</span>);       <span class="comment">// ì¤‘ë³µ ìŠ¬ë˜ì‹œ ì œê±°</span>
    path = path.<span class="function">trim</span>();
    <span class="keyword">return</span> path;
}

<span class="comment">// PHP (ab-test-config.php)</span>
<span class="keyword">function</span> <span class="function">normalizePath</span>($path) {
    <span class="keyword">if</span> (!$path) <span class="keyword">return</span> <span class="string">''</span>;
    $path = <span class="function">str_replace</span>(<span class="string">'\/'</span>, <span class="string">'/'</span>, $path);
    $path = <span class="function">preg_replace</span>(<span class="string">'#/+#'</span>, <span class="string">'/'</span>, $path);
    <span class="keyword">return</span> <span class="function">trim</span>($path);
}
                </div>
            </div>

            <!-- 5. API ëª…ì„¸ -->
            <div class="section" id="api">
                <h2>ğŸ”Œ 5. API ëª…ì„¸</h2>

                <h3>5.1 ab-test-config.php - ì„¤ì • ê´€ë¦¬</h3>

                <h4>GET /api/ab-test-config.php?pagePath={path}</h4>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th style="width: 150px;">Method</th>
                            <td>GET</td>
                        </tr>
                        <tr>
                            <th>Query Params</th>
                            <td><code>pagePath</code> - í˜ì´ì§€ ê²½ë¡œ (ì •ê·œí™”ëœ ê²½ë¡œ)</td>
                        </tr>
                        <tr>
                            <th>Response</th>
                            <td>
<div class="code-block">
{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"config"</span>: {
    <span class="string">"enabled"</span>: <span class="keyword">true</span>,
    <span class="string">"mode"</span>: <span class="string">"ab_test"</span>,           <span class="comment">// ab_test | force_a | force_b | scheduled</span>
    <span class="string">"testName"</span>: <span class="string">"ìƒí’ˆ ë ˆì´ì•„ì›ƒ í…ŒìŠ¤íŠ¸"</span>,
    <span class="string">"schedule"</span>: {
      <span class="string">"enabled"</span>: <span class="keyword">false</span>
    }
  },
  <span class="string">"global"</span>: {
    <span class="string">"defaultMode"</span>: <span class="string">"ab_test"</span>,
    <span class="string">"cookieExpiry"</span>: <span class="number">30</span>
  }
}
</div>
                            </td>
                        </tr>
                    </table>
                </div>

                <h3>5.2 ab-test-log.php - ë¡œê·¸ ì €ì¥ ë° ë¶„ì„</h3>

                <h4>POST /api/ab-test-log.php</h4>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th style="width: 150px;">Method</th>
                            <td>POST</td>
                        </tr>
                        <tr>
                            <th>Content-Type</th>
                            <td>application/json</td>
                        </tr>
                        <tr>
                            <th>Request Body</th>
                            <td>
<div class="code-block">
{
  <span class="string">"variant"</span>: <span class="string">"A"</span> | <span class="string">"B"</span>,
  <span class="string">"globalVariant"</span>: <span class="string">"A"</span> | <span class="string">"B"</span>,     <span class="comment">// v1.2+</span>
  <span class="string">"elementId"</span>: <span class="string">"dtc-dwcr-..."</span>,
  <span class="string">"href"</span>: <span class="string">"..."</span>,
  <span class="string">"pagePath"</span>: <span class="string">"/ob/stella/abtest2/..."</span>,
  <span class="string">"timestamp"</span>: <span class="string">"2025-11-17T..."</span>,
  <span class="string">"userAgent"</span>: <span class="string">"..."</span>,
  <span class="string">"referrer"</span>: <span class="string">"..."</span>
}
</div>
                            </td>
                        </tr>
                        <tr>
                            <th>Response</th>
                            <td>
<div class="code-block">
{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"id"</span>: <span class="string">"click_691aa0513826a.299981893"</span>,
  <span class="string">"message"</span>: <span class="string">"ë¡œê·¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤"</span>,
  <span class="string">"logFile"</span>: <span class="string">"clicks_2025-11.json"</span>
}
</div>
                            </td>
                        </tr>
                    </table>
                </div>

                <h4>GET /api/ab-test-log.php?action=getCrossPageStats</h4>
                <div class="badge v1-2">v1.2</div>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th style="width: 150px;">Method</th>
                            <td>GET</td>
                        </tr>
                        <tr>
                            <th>Query Params</th>
                            <td><code>action=getCrossPageStats</code></td>
                        </tr>
                        <tr>
                            <th>Response</th>
                            <td>
<div class="code-block">
{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"stats"</span>: {
    <span class="string">"trackedUsers"</span>: <span class="number">1</span>,              <span class="comment">// ì—¬ëŸ¬ í˜ì´ì§€ ë°©ë¬¸ ì‚¬ìš©ì ìˆ˜</span>
    <span class="string">"consistencyRate"</span>: <span class="number">0</span>,           <span class="comment">// Variant ì¼ì¹˜ìœ¨ (%)</span>
    <span class="string">"avgPagesPerUser"</span>: <span class="number">5</span>,           <span class="comment">// í‰ê·  ë°©ë¬¸ í˜ì´ì§€</span>
    <span class="string">"globalCookieRate"</span>: <span class="number">0</span>,          <span class="comment">// ì „ì—­ ì¿ í‚¤ ì ìš©ë¥  (%)</span>
    <span class="string">"aToACount"</span>: <span class="number">0</span>,                 <span class="comment">// Aâ†’A ìœ ì§€ ì‚¬ìš©ì</span>
    <span class="string">"bToBCount"</span>: <span class="number">0</span>,                 <span class="comment">// Bâ†’B ìœ ì§€ ì‚¬ìš©ì</span>
    <span class="string">"changedCount"</span>: <span class="number">1</span>,              <span class="comment">// Variant ë³€ê²½ ì‚¬ìš©ì</span>
    <span class="string">"changedPercent"</span>: <span class="number">100</span>           <span class="comment">// ë³€ê²½ ë¹„ìœ¨ (%)</span>
  }
}
</div>
                            </td>
                        </tr>
                    </table>
                </div>

                <h4>GET /api/ab-test-log.php?action=getUserJourney</h4>
                <div class="badge v1-3">v1.3</div>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th style="width: 150px;">Method</th>
                            <td>GET</td>
                        </tr>
                        <tr>
                            <th>Query Params</th>
                            <td><code>action=getUserJourney</code></td>
                        </tr>
                        <tr>
                            <th>Response</th>
                            <td>
<div class="code-block">
{
  <span class="string">"success"</span>: <span class="keyword">true</span>,
  <span class="string">"journeys"</span>: [
    {
      <span class="string">"userId"</span>: <span class="string">"6867cf194c0c6793"</span>,
      <span class="string">"firstVariant"</span>: <span class="string">"B"</span>,
      <span class="string">"firstPage"</span>: <span class="string">"test-product-1"</span>,        <span class="comment">// â­ v1.3</span>
      <span class="string">"firstPageFull"</span>: <span class="string">"/ob/stella/abtest2/test-product-1.html"</span>,
      <span class="string">"lastVariant"</span>: <span class="string">"B"</span>,
      <span class="string">"lastPage"</span>: <span class="string">"test-product-4"</span>,         <span class="comment">// â­ v1.3</span>
      <span class="string">"lastPageFull"</span>: <span class="string">"/ob/stella/abtest2/test-product-4.html"</span>,
      <span class="string">"pagesVisited"</span>: <span class="number">5</span>,
      <span class="string">"lastUpdated"</span>: <span class="string">"2025-11-17T04:10:57.921Z"</span>
    }
  ]
}
</div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- 6. ëŒ€ì‹œë³´ë“œ -->
            <div class="section" id="dashboard">
                <h2>ğŸ–¥ï¸ 6. í†µí•© ëŒ€ì‹œë³´ë“œ</h2>

                <div class="success-box">
                    <strong>ab-test-dashboard.html (53KB - v1.3)</strong><br>
                    í˜ì´ì§€ ê´€ë¦¬, ì„¤ì • ì œì–´, í†µê³„ ë¶„ì„, í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì ì„ í•˜ë‚˜ì˜ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì œê³µ
                </div>

                <h3>6.1 í˜ì´ì§€ ê´€ë¦¬ íƒ­</h3>
                <ul>
                    <li>âœ… ìƒˆ ABtest í˜ì´ì§€ ì¶”ê°€</li>
                    <li>âœ… í˜ì´ì§€ ëª©ë¡ ì¡°íšŒ (í…ŒìŠ¤íŠ¸ ì´ë¦„, ëª¨ë“œ, ìƒíƒœ)</li>
                    <li>âœ… í˜ì´ì§€ ì‚­ì œ</li>
                    <li>âœ… ì‹¤ì‹œê°„ ì„¤ì • ë™ê¸°í™”</li>
                </ul>

                <h3>6.2 ì„¤ì • ì œì–´ íƒ­</h3>
                <div class="grid-2">
                    <div class="card">
                        <h4>í…ŒìŠ¤íŠ¸ ëª¨ë“œ</h4>
                        <ul>
                            <li><strong>ab_test</strong> - ëœë¤ 50:50 ë¶„ë°°</li>
                            <li><strong>force_a</strong> - Variant A ê³ ì •</li>
                            <li><strong>force_b</strong> - Variant B ê³ ì •</li>
                            <li><strong>scheduled</strong> - ìŠ¤ì¼€ì¤„ ê¸°ë°˜</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>ìŠ¤ì¼€ì¤„ ì„¤ì •</h4>
                        <ul>
                            <li>ì‹œì‘ì¼/ì¢…ë£Œì¼ ì„¤ì •</li>
                            <li>ìŠ¤ì¼€ì¤„ Variant ì„ íƒ</li>
                            <li>í™œì„±í™”/ë¹„í™œì„±í™” í† ê¸€</li>
                        </ul>
                    </div>
                </div>

                <h3>6.3 í†µê³„ ë¶„ì„ íƒ­</h3>
                <ul>
                    <li>âœ… ë‚ ì§œ í•„í„° (ì‹œì‘ì¼ ~ ì¢…ë£Œì¼)</li>
                    <li>âœ… ë¹ ë¥¸ í•„í„° (ì˜¤ëŠ˜, ìµœê·¼ 7ì¼, ìµœê·¼ 30ì¼)</li>
                    <li>âœ… í˜ì´ì§€ë³„ í†µê³„</li>
                    <li>âœ… Variantë³„ í´ë¦­ ìˆ˜</li>
                    <li>âœ… ìŠ¹ì í‘œì‹œ (ê°œì„ ìœ¨ í‘œì‹œ)</li>
                </ul>

                <h3>6.4 í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì  íƒ­ <span class="badge v1-3">v1.3</span></h3>

                <h4>í†µê³„ ìš”ì•½</h4>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>ì§€í‘œ</th>
                                <th>ì„¤ëª…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ì¶”ì  ì‚¬ìš©ì ìˆ˜</strong></td>
                                <td>2ê°œ ì´ìƒ í˜ì´ì§€ ë°©ë¬¸í•œ ì‚¬ìš©ì</td>
                            </tr>
                            <tr>
                                <td><strong>Variant ì¼ì¹˜ìœ¨</strong></td>
                                <td>ëª¨ë“  í˜ì´ì§€ì—ì„œ ë™ì¼ Variant ìœ ì§€ ë¹„ìœ¨</td>
                            </tr>
                            <tr>
                                <td><strong>í‰ê·  ë°©ë¬¸ í˜ì´ì§€</strong></td>
                                <td>ì‚¬ìš©ìë‹¹ í‰ê·  ë°©ë¬¸ í˜ì´ì§€ ìˆ˜</td>
                            </tr>
                            <tr>
                                <td><strong>ì „ì—­ ì¿ í‚¤ ì ìš©ë¥ </strong></td>
                                <td>ab_global_variant ì¿ í‚¤ ì ìš© ë¹„ìœ¨</td>
                            </tr>
                            <tr>
                                <td><strong>Aâ†’A ê³„ì†</strong></td>
                                <td>Variant Aì—ì„œ A ìœ ì§€</td>
                            </tr>
                            <tr>
                                <td><strong>Bâ†’B ê³„ì†</strong></td>
                                <td>Variant Bì—ì„œ B ìœ ì§€</td>
                            </tr>
                            <tr>
                                <td><strong>ë³€ê²½ë¨</strong></td>
                                <td>Variant ë³€ê²½ëœ ì‚¬ìš©ì (Aâ†”B)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h4>ì‚¬ìš©ì ì—¬ì • ë¶„ì„ í…Œì´ë¸”</h4>
                <div class="code-block">
| ì‚¬ìš©ì ID | ì²« ë°©ë¬¸ Variant | ì²« ë°©ë¬¸ í˜ì´ì§€ â­ | ë§ˆì§€ë§‰ Variant | ë§ˆì§€ë§‰ í˜ì´ì§€ â­ | ì¼ê´€ì„± | ë°©ë¬¸ í˜ì´ì§€ | ìµœê·¼ í™œë™ |
|-----------|----------------|-------------------|---------------|------------------|--------|------------|-----------|
| 6867cf19...| B              | test-product-1    | B             | test-product-4   | ë³€ê²½ë¨  | 5 ê°œ       | 2025. 11. 17. |
                </div>

                <div class="info-box">
                    <strong>v1.3 ê°œì„ ì‚¬í•­:</strong>
                    <ul style="margin-top: 10px;">
                        <li>âœ… ì²« ë°©ë¬¸ í˜ì´ì§€ / ë§ˆì§€ë§‰ í˜ì´ì§€ ì»¬ëŸ¼ ì¶”ê°€</li>
                        <li>âœ… í˜ì´ì§€ ì´ë¦„ì— ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ì „ì²´ ê²½ë¡œ íˆ´íŒ í‘œì‹œ</li>
                        <li>âœ… firstVariant ì˜¤ë¥˜ ìˆ˜ì • (ì‹œê°„ìˆœ ì •ë ¬ ì ìš©)</li>
                    </ul>
                </div>
            </div>

            <!-- 7. ë°°í¬ -->
            <div class="section" id="deployment">
                <h2>ğŸš€ 7. ë°°í¬ ê°€ì´ë“œ</h2>

                <h3>7.1 í•„ìˆ˜ ë°°í¬ íŒŒì¼ <span class="badge v1-3">v1.3</span></h3>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>íŒŒì¼ëª…</th>
                                <th>í¬ê¸°</th>
                                <th>ë°°í¬ ê²½ë¡œ</th>
                                <th>ë²„ì „</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ab-test-tracker.js</td>
                                <td>15KB</td>
                                <td>/js/ab-test-tracker.js</td>
                                <td><span class="badge v1-2">v1.2</span></td>
                            </tr>
                            <tr>
                                <td>ab-test-config.php</td>
                                <td>11KB</td>
                                <td>/api/ab-test-config.php</td>
                                <td><span class="badge v1-1">v1.1</span></td>
                            </tr>
                            <tr>
                                <td>ab-test-log.php</td>
                                <td>15KB</td>
                                <td>/api/ab-test-log.php</td>
                                <td><span class="badge v1-3">v1.3</span></td>
                            </tr>
                            <tr>
                                <td>ab-test-dashboard.html</td>
                                <td>53KB</td>
                                <td>/ab-test-dashboard.html</td>
                                <td><span class="badge v1-3">v1.3</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>7.2 ë°°í¬ ì ˆì°¨</h3>

                <h4>Step 1: ë°±ì—…</h4>
                <div class="code-block">
cd /var/www/html_bak/ob/stella/abtest2
mkdir -p backups/v1.2_$(date +%Y%m%d)

<span class="comment"># ê¸°ì¡´ íŒŒì¼ ë°±ì—…</span>
cp api/ab-test-log.php backups/v1.2_$(date +%Y%m%d)/
cp ab-test-dashboard.html backups/v1.2_$(date +%Y%m%d)/

echo <span class="string">"âœ… ë°±ì—… ì™„ë£Œ"</span>
                </div>

                <h4>Step 2: ë°°í¬</h4>
                <div class="code-block">
<span class="comment"># PHP API íŒŒì¼ ë°°í¬</span>
cp ab-test-log_v1_3_with_pages.php api/ab-test-log.php

<span class="comment"># ëŒ€ì‹œë³´ë“œ íŒŒì¼ ë°°í¬</span>
cp ab-test-dashboard_v1_3_with_pages.html ab-test-dashboard.html

<span class="comment"># ê¶Œí•œ ì„¤ì •</span>
chmod 644 api/ab-test-log.php
chmod 644 ab-test-dashboard.html

echo <span class="string">"âœ… ë°°í¬ ì™„ë£Œ"</span>
                </div>

                <h4>Step 3: ê²€ì¦</h4>
                <div class="code-block">
<span class="comment"># API í…ŒìŠ¤íŠ¸</span>
curl <span class="string">"https://abi-ops.miraepmp.co.kr/ob/stella/abtest2/api/ab-test-log.php?action=getUserJourney"</span>

<span class="comment"># ëŒ€ì‹œë³´ë“œ ì ‘ì†</span>
<span class="comment"># https://abi-ops.miraepmp.co.kr/ob/stella/abtest2/ab-test-dashboard.html</span>

<span class="comment"># ì²´í¬ë¦¬ìŠ¤íŠ¸:</span>
<span class="comment"># â–¡ í˜ì´ì§€ ê´€ë¦¬ íƒ­ ì •ìƒ ì‘ë™</span>
<span class="comment"># â–¡ ì„¤ì • ì œì–´ íƒ­ ì •ìƒ ì‘ë™</span>
<span class="comment"># â–¡ í†µê³„ ë¶„ì„ íƒ­ ì •ìƒ ì‘ë™</span>
<span class="comment"># â–¡ í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì  íƒ­ ì •ìƒ ì‘ë™</span>
<span class="comment"># â–¡ ì‚¬ìš©ì ì—¬ì • í…Œì´ë¸”ì— "ì²« ë°©ë¬¸ í˜ì´ì§€" ì»¬ëŸ¼ í‘œì‹œ</span>
<span class="comment"># â–¡ ì‚¬ìš©ì ì—¬ì • í…Œì´ë¸”ì— "ë§ˆì§€ë§‰ í˜ì´ì§€" ì»¬ëŸ¼ í‘œì‹œ</span>
                </div>

                <h3>7.3 í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì‘ì„± ê°€ì´ë“œ</h3>

                <h4>HTML êµ¬ì¡°</h4>
                <div class="code-block">
<span class="comment">&lt;!-- 1. íŠ¸ë˜ì»¤ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ --&gt;</span>
&lt;<span class="keyword">script</span> <span class="function">src</span>=<span class="string">"/ob/stella/abtest2/js/ab-test-tracker.js"</span>&gt;&lt;/<span class="keyword">script</span>&gt;

<span class="comment">&lt;!-- 2. Variant A ìš”ì†Œ --&gt;</span>
&lt;<span class="keyword">div</span> <span class="function">class</span>=<span class="string">"dtc-dwcr-list"</span> <span class="function">data-variant</span>=<span class="string">"A"</span> <span class="function">style</span>=<span class="string">"display: none;"</span>&gt;
    &lt;<span class="keyword">a</span> <span class="function">href</span>=<span class="string">"#"</span> <span class="function">id</span>=<span class="string">"dtc-dwcr-product-card-buy-a-1"</span> <span class="function">class</span>=<span class="string">"btn"</span>&gt;
        ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
    &lt;/<span class="keyword">a</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

<span class="comment">&lt;!-- 3. Variant B ìš”ì†Œ --&gt;</span>
&lt;<span class="keyword">div</span> <span class="function">class</span>=<span class="string">"dtc-dwcr-list"</span> <span class="function">data-variant</span>=<span class="string">"B"</span> <span class="function">style</span>=<span class="string">"display: none;"</span>&gt;
    &lt;<span class="keyword">a</span> <span class="function">href</span>=<span class="string">"#"</span> <span class="function">id</span>=<span class="string">"dtc-dwcr-product-list-buy-b-1"</span> <span class="function">class</span>=<span class="string">"btn"</span>&gt;
        ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°
    &lt;/<span class="keyword">a</span>&gt;
&lt;/<span class="keyword">div</span>&gt;

<span class="comment">&lt;!-- 4. ì´ˆê¸°í™” --&gt;</span>
&lt;<span class="keyword">script</span>&gt;
    <span class="function">ABTestTracker</span>.<span class="function">init</span>();
&lt;/<span class="keyword">script</span>&gt;
                </div>

                <h4>CSS ìŠ¤íƒ€ì¼ë§</h4>
                <div class="code-block">
<span class="comment">/* ë§í¬ë¥¼ ë²„íŠ¼ì²˜ëŸ¼ ë³´ì´ê²Œ */</span>
<span class="keyword">.btn</span> {
    <span class="function">text-decoration</span>: <span class="string">none</span> !<span class="keyword">important</span>;  <span class="comment">â† í•„ìˆ˜!</span>
    <span class="function">display</span>: <span class="string">inline-block</span>;
    <span class="function">padding</span>: <span class="string">12px 24px</span>;
    <span class="function">background</span>: <span class="string">#667eea</span>;
    <span class="function">color</span>: <span class="string">white</span>;
    <span class="function">border-radius</span>: <span class="string">6px</span>;
    <span class="function">cursor</span>: <span class="string">pointer</span>;
    <span class="function">transition</span>: <span class="string">all 0.3s</span>;
}

<span class="keyword">.btn</span>:<span class="function">hover</span> {
    <span class="function">background</span>: <span class="string">#764ba2</span>;
    <span class="function">transform</span>: <span class="function">translateY</span>(<span class="string">-2px</span>);
}
                </div>

                <h3>7.4 ì„¤ì • íŒŒì¼ ë“±ë¡</h3>
                <div class="info-box">
                    ëŒ€ì‹œë³´ë“œ â†’ í˜ì´ì§€ ê´€ë¦¬ íƒ­ â†’ "ìƒˆ í˜ì´ì§€ ì¶”ê°€" ë²„íŠ¼ í´ë¦­í•˜ì—¬ GUIë¡œ ë“±ë¡ ê°€ëŠ¥
                </div>

                <div class="code-block">
<span class="comment">// api/ab-test-config.json</span>
{
  <span class="string">"pages"</span>: [
    {
      <span class="string">"pagePath"</span>: <span class="string">"/ob/stella/abtest2/test-product-5.html"</span>,
      <span class="string">"enabled"</span>: <span class="keyword">true</span>,
      <span class="string">"mode"</span>: <span class="string">"ab_test"</span>,
      <span class="string">"testName"</span>: <span class="string">"ìƒí’ˆ ì¹´ë“œ ë ˆì´ì•„ì›ƒ í…ŒìŠ¤íŠ¸"</span>,
      <span class="string">"schedule"</span>: {
        <span class="string">"enabled"</span>: <span class="keyword">false</span>
      }
    }
  ],
  <span class="string">"global"</span>: {
    <span class="string">"defaultMode"</span>: <span class="string">"ab_test"</span>,
    <span class="string">"cookieExpiry"</span>: <span class="number">30</span>
  }
}
                </div>
            </div>

            <!-- ë§ˆë¬´ë¦¬ -->
            <div class="section">
                <h2>âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>

                <h3>ê°œë°œ ì™„ë£Œ í•­ëª©</h3>
                <div class="grid-2">
                    <div class="card">
                        <h4>v1.1 ê¸°ëŠ¥</h4>
                        <ul>
                            <li>âœ… í˜ì´ì§€ë³„ Variant í• ë‹¹</li>
                            <li>âœ… ì¿ í‚¤ ê¸°ë°˜ ì§€ì†ì„±</li>
                            <li>âœ… í´ë¦­ ì¶”ì  (onclick ì œê±°)</li>
                            <li>âœ… ê²½ë¡œ ì •ê·œí™”</li>
                            <li>âœ… JSON ë¡œê·¸ ì €ì¥</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>v1.2 ê¸°ëŠ¥</h4>
                        <ul>
                            <li>âœ… ì „ì—­ ì¿ í‚¤ (ab_global_variant)</li>
                            <li>âœ… globalVariant í•„ë“œ</li>
                            <li>âœ… ì‹¤ì œ ë¡œê·¸ ë¶„ì„</li>
                            <li>âœ… í¬ë¡œìŠ¤ í˜ì´ì§€ í†µê³„</li>
                            <li>âœ… ì‚¬ìš©ì ì—¬ì • ì¶”ì </li>
                        </ul>
                    </div>
                </div>

                <div class="grid-2" style="margin-top: 20px;">
                    <div class="card">
                        <h4>v1.3 ê¸°ëŠ¥</h4>
                        <ul>
                            <li>âœ… ì²«/ë§ˆì§€ë§‰ ë°©ë¬¸ í˜ì´ì§€</li>
                            <li>âœ… firstVariant ë²„ê·¸ ìˆ˜ì •</li>
                            <li>âœ… ì‹œê°„ìˆœ ì •ë ¬</li>
                            <li>âœ… í˜ì´ì§€ ì´ë¦„ íˆ´íŒ</li>
                            <li>âœ… ëŒ€ì‹œë³´ë“œ UI ê°œì„ </li>
                        </ul>
                    </div>
                    <div class="card">
                        <h4>í†µí•© ëŒ€ì‹œë³´ë“œ</h4>
                        <ul>
                            <li>âœ… í˜ì´ì§€ ê´€ë¦¬</li>
                            <li>âœ… ì„¤ì • ì œì–´</li>
                            <li>âœ… í†µê³„ ë¶„ì„</li>
                            <li>âœ… í¬ë¡œìŠ¤ í˜ì´ì§€ ì¶”ì </li>
                            <li>âœ… ì‚¬ìš©ì ì—¬ì • ë¶„ì„</li>
                        </ul>
                    </div>
                </div>

                <h3>í˜„ì¬ ìš´ì˜ ì¤‘ì¸ í…ŒìŠ¤íŠ¸ í˜ì´ì§€</h3>
                <div class="table-responsive">
                    <table>
                        <thead>
                            <tr>
                                <th>í˜ì´ì§€</th>
                                <th>í…ŒìŠ¤íŠ¸ ë‚´ìš©</th>
                                <th>ëª¨ë“œ</th>
                                <th>ìƒíƒœ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>test-product-1.html</td>
                                <td>ìƒí’ˆ ìƒì„¸ ë ˆì´ì•„ì›ƒ</td>
                                <td>ab_test</td>
                                <td>âœ… í™œì„±</td>
                            </tr>
                            <tr>
                                <td>test-product-2.html</td>
                                <td>êµ¬ë§¤ ë²„íŠ¼ ìœ„ì¹˜</td>
                                <td>force_b</td>
                                <td>âœ… í™œì„±</td>
                            </tr>
                            <tr>
                                <td>test-product-3.html</td>
                                <td>ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬</td>
                                <td>ab_test</td>
                                <td>âœ… í™œì„±</td>
                            </tr>
                            <tr>
                                <td>test-product-4.html</td>
                                <td>FAQ ì„¹ì…˜ ìœ„ì¹˜</td>
                                <td>ab_test</td>
                                <td>âœ… í™œì„±</td>
                            </tr>
                            <tr>
                                <td>test-product-5.html</td>
                                <td>ìƒí’ˆ ì¹´ë“œ vs ë¦¬ìŠ¤íŠ¸</td>
                                <td>ab_test</td>
                                <td>âœ… í™œì„±</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="footer">
            <h3>ğŸ“š ABtest v1.3 Complete Specification</h3>
            <p>í¬ë¡œìŠ¤ í˜ì´ì§€ A/B í…ŒìŠ¤íŠ¸ ì†”ë£¨ì…˜ - ì™„ì „ ë¬¸ì„œí™”</p>
            <p style="margin-top: 10px; opacity: 0.8;">
                ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-17 | ë²„ì „: v1.3 |
                íŒŒì¼: ab-test-tracker.js (v1.2), ab-test-log.php (v1.3), ab-test-dashboard.html (v1.3)
            </p>
        </div>
    </div>
</body>
</html>
